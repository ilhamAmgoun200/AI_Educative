{"ast":null,"code":"/*import httpClient from './httpClient';\r\n\r\nexport const teacherService = {\r\n  // Récupérer le profil du professeur\r\n  getProfile: async (userId) => {\r\n    try {\r\n      const response = await httpClient.get(`/users/${userId}?populate=*`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération profil teacher:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Mettre à jour le profil - ADAPTÉ À TA STRUCTURE\r\n  updateProfile: async (profileData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.put(`/users/${user.id}`, profileData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur mise à jour profil:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les subjects du professeur - NOUVEAU\r\n  getMySubjects: async (teacherId) => {\r\n    try {\r\n      const response = await httpClient.get('/subjects', {\r\n        params: {\r\n          'filters[author][id][$eq]': teacherId,\r\n          'populate': 'lessons'  // Pour compter les leçons\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération subjects:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Créer un nouveau subject - NOUVEAU\r\n  createSubject: async (subjectData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.post('/subjects', {\r\n        data: {\r\n          ...subjectData,\r\n          author: user.id\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur création subject:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les leçons d'un subject - NOUVEAU\r\n  getSubjectLessons: async (subjectId) => {\r\n    try {\r\n      const response = await httpClient.get('/lessons', {\r\n        params: {\r\n          'filters[subject][id][$eq]': subjectId,\r\n          'populate': '*'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération leçons:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Uploader un fichier PDF\r\n  uploadFile: async (file) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('files', file);\r\n\r\n      const response = await httpClient.post('/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur upload fichier:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Export pour éviter l'erreur ESLint\r\nexport const apiServices = {\r\n  teacherService\r\n};\r\n\r\nexport default apiServices;*/\n\nimport httpClient from './httpClient';\nexport const teacherService = {\n  // Profile\n  getProfile: () => httpClient.get(`/users/me?populate=*`),\n  updateProfile: data => httpClient.put(`/users/me`, data),\n  // Subjects\n  getMySubjects: () => httpClient.get(`/subjects?filters[author][id][$eq]=me&populate=lessons`),\n  getSubject: subjectId => httpClient.get(`/subjects/${subjectId}?populate=lessons`),\n  createSubject: data => httpClient.post('/subjects', {\n    data\n  }),\n  updateSubject: (subjectId, data) => httpClient.put(`/subjects/${subjectId}`, {\n    data\n  }),\n  deleteSubject: subjectId => httpClient.delete(`/subjects/${subjectId}`),\n  // Lessons\n  getSubjectLessons: subjectId => httpClient.get(`/lessons?filters[subject][id][$eq]=${subjectId}`),\n  createLesson: data => httpClient.post('/lessons', {\n    data\n  }),\n  updateLesson: (lessonId, data) => httpClient.put(`/lessons/${lessonId}`, {\n    data\n  }),\n  deleteLesson: lessonId => httpClient.delete(`/lessons/${lessonId}`),\n  // File Upload\n  uploadFile: file => {\n    const formData = new FormData();\n    formData.append('files', file);\n    return httpClient.post('/upload', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n};","map":{"version":3,"names":["httpClient","teacherService","getProfile","get","updateProfile","data","put","getMySubjects","getSubject","subjectId","createSubject","post","updateSubject","deleteSubject","delete","getSubjectLessons","createLesson","updateLesson","lessonId","deleteLesson","uploadFile","file","formData","FormData","append","headers"],"sources":["C:/Users/Admin/AI_Educative/ai-learning-frontend/src/api/api.js"],"sourcesContent":["/*import httpClient from './httpClient';\r\n\r\nexport const teacherService = {\r\n  // Récupérer le profil du professeur\r\n  getProfile: async (userId) => {\r\n    try {\r\n      const response = await httpClient.get(`/users/${userId}?populate=*`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération profil teacher:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Mettre à jour le profil - ADAPTÉ À TA STRUCTURE\r\n  updateProfile: async (profileData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.put(`/users/${user.id}`, profileData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur mise à jour profil:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les subjects du professeur - NOUVEAU\r\n  getMySubjects: async (teacherId) => {\r\n    try {\r\n      const response = await httpClient.get('/subjects', {\r\n        params: {\r\n          'filters[author][id][$eq]': teacherId,\r\n          'populate': 'lessons'  // Pour compter les leçons\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération subjects:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Créer un nouveau subject - NOUVEAU\r\n  createSubject: async (subjectData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.post('/subjects', {\r\n        data: {\r\n          ...subjectData,\r\n          author: user.id\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur création subject:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les leçons d'un subject - NOUVEAU\r\n  getSubjectLessons: async (subjectId) => {\r\n    try {\r\n      const response = await httpClient.get('/lessons', {\r\n        params: {\r\n          'filters[subject][id][$eq]': subjectId,\r\n          'populate': '*'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération leçons:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Uploader un fichier PDF\r\n  uploadFile: async (file) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('files', file);\r\n\r\n      const response = await httpClient.post('/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur upload fichier:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Export pour éviter l'erreur ESLint\r\nexport const apiServices = {\r\n  teacherService\r\n};\r\n\r\nexport default apiServices;*/\r\n\r\nimport httpClient from './httpClient';\r\n\r\nexport const teacherService = {\r\n  // Profile\r\n  getProfile: () => httpClient.get(`/users/me?populate=*`),\r\n  updateProfile: (data) => httpClient.put(`/users/me`, data),\r\n  \r\n  // Subjects\r\n  getMySubjects: () => httpClient.get(`/subjects?filters[author][id][$eq]=me&populate=lessons`),\r\n  getSubject: (subjectId) => httpClient.get(`/subjects/${subjectId}?populate=lessons`),\r\n  createSubject: (data) => httpClient.post('/subjects', { data }),\r\n  updateSubject: (subjectId, data) => httpClient.put(`/subjects/${subjectId}`, { data }),\r\n  deleteSubject: (subjectId) => httpClient.delete(`/subjects/${subjectId}`),\r\n  \r\n  // Lessons\r\n  getSubjectLessons: (subjectId) => httpClient.get(`/lessons?filters[subject][id][$eq]=${subjectId}`),\r\n  createLesson: (data) => httpClient.post('/lessons', { data }),\r\n  updateLesson: (lessonId, data) => httpClient.put(`/lessons/${lessonId}`, { data }),\r\n  deleteLesson: (lessonId) => httpClient.delete(`/lessons/${lessonId}`),\r\n  \r\n  // File Upload\r\n  uploadFile: (file) => {\r\n    const formData = new FormData();\r\n    formData.append('files', file);\r\n    return httpClient.post('/upload', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    });\r\n  }\r\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,UAAU,MAAM,cAAc;AAErC,OAAO,MAAMC,cAAc,GAAG;EAC5B;EACAC,UAAU,EAAEA,CAAA,KAAMF,UAAU,CAACG,GAAG,CAAC,sBAAsB,CAAC;EACxDC,aAAa,EAAGC,IAAI,IAAKL,UAAU,CAACM,GAAG,CAAC,WAAW,EAAED,IAAI,CAAC;EAE1D;EACAE,aAAa,EAAEA,CAAA,KAAMP,UAAU,CAACG,GAAG,CAAC,wDAAwD,CAAC;EAC7FK,UAAU,EAAGC,SAAS,IAAKT,UAAU,CAACG,GAAG,CAAC,aAAaM,SAAS,mBAAmB,CAAC;EACpFC,aAAa,EAAGL,IAAI,IAAKL,UAAU,CAACW,IAAI,CAAC,WAAW,EAAE;IAAEN;EAAK,CAAC,CAAC;EAC/DO,aAAa,EAAEA,CAACH,SAAS,EAAEJ,IAAI,KAAKL,UAAU,CAACM,GAAG,CAAC,aAAaG,SAAS,EAAE,EAAE;IAAEJ;EAAK,CAAC,CAAC;EACtFQ,aAAa,EAAGJ,SAAS,IAAKT,UAAU,CAACc,MAAM,CAAC,aAAaL,SAAS,EAAE,CAAC;EAEzE;EACAM,iBAAiB,EAAGN,SAAS,IAAKT,UAAU,CAACG,GAAG,CAAC,sCAAsCM,SAAS,EAAE,CAAC;EACnGO,YAAY,EAAGX,IAAI,IAAKL,UAAU,CAACW,IAAI,CAAC,UAAU,EAAE;IAAEN;EAAK,CAAC,CAAC;EAC7DY,YAAY,EAAEA,CAACC,QAAQ,EAAEb,IAAI,KAAKL,UAAU,CAACM,GAAG,CAAC,YAAYY,QAAQ,EAAE,EAAE;IAAEb;EAAK,CAAC,CAAC;EAClFc,YAAY,EAAGD,QAAQ,IAAKlB,UAAU,CAACc,MAAM,CAAC,YAAYI,QAAQ,EAAE,CAAC;EAErE;EACAE,UAAU,EAAGC,IAAI,IAAK;IACpB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,CAAC;IAC9B,OAAOrB,UAAU,CAACW,IAAI,CAAC,SAAS,EAAEW,QAAQ,EAAE;MAC1CG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACnD,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}