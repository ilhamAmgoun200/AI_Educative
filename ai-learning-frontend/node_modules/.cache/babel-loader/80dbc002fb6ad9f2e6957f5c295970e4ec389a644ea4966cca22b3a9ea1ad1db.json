{"ast":null,"code":"import httpClient from './httpClient';\nexport const teacherService = {\n  // Récupérer le profil du professeur\n  getProfile: async userId => {\n    try {\n      const response = await httpClient.get(`/users/${userId}?populate=*`);\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur récupération profil teacher:', error);\n      throw error;\n    }\n  },\n  // Mettre à jour le profil - ADAPTÉ À TA STRUCTURE\n  updateProfile: async profileData => {\n    try {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const response = await httpClient.put(`/users/${user.id}`, profileData);\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur mise à jour profil:', error);\n      throw error;\n    }\n  },\n  // Récupérer les subjects du professeur - NOUVEAU\n  getMySubjects: async teacherId => {\n    try {\n      const response = await httpClient.get('/subjects', {\n        params: {\n          'filters[author][id][$eq]': teacherId,\n          'populate': 'lessons' // Pour compter les leçons\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur récupération subjects:', error);\n      throw error;\n    }\n  },\n  // Créer un nouveau subject - NOUVEAU\n  createSubject: async subjectData => {\n    try {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const response = await httpClient.post('/subjects', {\n        data: {\n          ...subjectData,\n          author: user.id\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur création subject:', error);\n      throw error;\n    }\n  },\n  // Récupérer les leçons d'un subject - NOUVEAU\n  getSubjectLessons: async subjectId => {\n    try {\n      const response = await httpClient.get('/lessons', {\n        params: {\n          'filters[subject][id][$eq]': subjectId,\n          'populate': '*'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur récupération leçons:', error);\n      throw error;\n    }\n  },\n  // Uploader un fichier PDF\n  uploadFile: async file => {\n    try {\n      const formData = new FormData();\n      formData.append('files', file);\n      const response = await httpClient.post('/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('❌ Erreur upload fichier:', error);\n      throw error;\n    }\n  }\n};\n\n// Export pour éviter l'erreur ESLint\nexport const apiServices = {\n  teacherService\n};\nexport default apiServices;","map":{"version":3,"names":["httpClient","teacherService","getProfile","userId","response","get","data","error","console","updateProfile","profileData","user","JSON","parse","localStorage","getItem","put","id","getMySubjects","teacherId","params","createSubject","subjectData","post","author","getSubjectLessons","subjectId","uploadFile","file","formData","FormData","append","headers","apiServices"],"sources":["C:/Users/Admin/AI_Educative/ai-learning-frontend/src/api/api.js"],"sourcesContent":["import httpClient from './httpClient';\r\n\r\nexport const teacherService = {\r\n  // Récupérer le profil du professeur\r\n  getProfile: async (userId) => {\r\n    try {\r\n      const response = await httpClient.get(`/users/${userId}?populate=*`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération profil teacher:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Mettre à jour le profil - ADAPTÉ À TA STRUCTURE\r\n  updateProfile: async (profileData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.put(`/users/${user.id}`, profileData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur mise à jour profil:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les subjects du professeur - NOUVEAU\r\n  getMySubjects: async (teacherId) => {\r\n    try {\r\n      const response = await httpClient.get('/subjects', {\r\n        params: {\r\n          'filters[author][id][$eq]': teacherId,\r\n          'populate': 'lessons'  // Pour compter les leçons\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération subjects:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Créer un nouveau subject - NOUVEAU\r\n  createSubject: async (subjectData) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const response = await httpClient.post('/subjects', {\r\n        data: {\r\n          ...subjectData,\r\n          author: user.id\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur création subject:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les leçons d'un subject - NOUVEAU\r\n  getSubjectLessons: async (subjectId) => {\r\n    try {\r\n      const response = await httpClient.get('/lessons', {\r\n        params: {\r\n          'filters[subject][id][$eq]': subjectId,\r\n          'populate': '*'\r\n        }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur récupération leçons:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Uploader un fichier PDF\r\n  uploadFile: async (file) => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('files', file);\r\n\r\n      const response = await httpClient.post('/upload', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('❌ Erreur upload fichier:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Export pour éviter l'erreur ESLint\r\nexport const apiServices = {\r\n  teacherService\r\n};\r\n\r\nexport default apiServices;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}